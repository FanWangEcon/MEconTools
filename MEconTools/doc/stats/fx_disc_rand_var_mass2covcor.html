<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2019b"><title>FF_DISC_RAND_VAR_MASS2COVCOR Examples</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S3 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 4px 4px 0px 0px; padding: 6px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { color: rgb(64, 64, 64); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 16.996px;  }
.embeddedOutputsErrorElement {min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
.embeddedOutputsErrorElement.rightPaneElement {}
.embeddedOutputsWarningElement{min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsWarningElement.rightPaneElement {}
.diagnosticMessage-wrapper {font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {color: rgb(255,100,0);}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {color: rgb(255,100,0); text-decoration: underline;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {color: rgb(230,0,0);}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {color: rgb(230,0,0); text-decoration: underline;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart,.diagnosticMessage-wrapper .diagnosticMessage-causePart {white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {white-space: pre;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {white-space: pre; word-wrap: initial; min-height: 18px; max-height: 250px; overflow: auto;}
.textElement,.rtcDataTipElement .textElement {padding-top: 3px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement.rightPaneElement,.embeddedOutputsVariableStringElement.rightPaneElement {min-height: 16px;}
.rightPaneElement .textElement {padding-top: 2px; padding-left: 9px;}
.S5 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S6 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S7 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px; padding: 0px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S8 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>FF_DISC_RAND_VAR_MASS2COVCOR Examples</span></h1><div  class = 'S1'><span style=' font-weight: bold;'>back to </span><a href = "https://fanwangecon.github.io"><span style=' font-weight: bold;'>Fan</span></a><span style=' font-weight: bold;'>'s </span><a href = "https://fanwangecon.github.io/Math4Econ/"><span style=' font-weight: bold;'>Intro Math for Econ</span></a><span style=' font-weight: bold;'>,  </span><a href = "https://fanwangecon.github.io/M4Econ/"><span style=' font-weight: bold;'>Matlab Examples</span></a><span style=' font-weight: bold;'>, or </span><a href = "https://fanwangecon.github.io/CodeDynaAsset/"><span style=' font-weight: bold;'>Dynamic Asset</span></a><span style=' font-weight: bold;'> Repositories</span></div><div  class = 'S1'><span>This is the example vignette for function: </span><a href = "https://github.com/FanWangEcon/MEconTools/blob/master/MEconTools/stats/ff_disc_rand_var_mass2covcor.m"><span style=' font-weight: bold;'>ff_disc_rand_var_mass2covcor</span></a><span> from the </span><a href = "https://fanwangecon.github.io/MEconTools/"><span style=' font-weight: bold;'>MEconTools Package</span></a><span style=' font-weight: bold;'>. </span><span>This function calculates covariance and correlation based for two discrete random variables. </span></div><h2  class = 'S2'><span>Test FF_DISC_RAND_VAR_MASS2COVCOR Defaults</span></h2><div  class = 'S1'><span>Call the function with defaults.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre;"><span>ff_disc_rand_var_mass2covcor();</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="2F822E04" data-testid="output_0" data-width="428" data-height="1641" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CONTAINER NAME: covvar_input_map ND Array (Matrix etc)
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                 <strong>i</strong>    <strong>idx</strong>    <strong>ndim</strong>    <strong>numel</strong>    <strong>rowN</strong>    <strong>colN</strong>      <strong>mean</strong>        <strong>std</strong>       <strong>coefvari</strong>       <strong>min</strong>          <strong>max</strong>  
                 <strong>_</strong>    <strong>___</strong>    <strong>____</strong>    <strong>_____</strong>    <strong>____</strong>    <strong>____</strong>    <strong>________</strong>    <strong>________</strong>    <strong>________</strong>    <strong>__________</strong>    <strong>_______</strong>

    <strong>mt_f_of_s</strong>    1     5      2       30       6       5      0.033333    0.035743     1.0723     3.7187e-06    0.12852
    <strong>mt_x_of_s</strong>    2     6      2       30       6       5       0.83333      5.3051     6.3661             -7          9
    <strong>mt_y_of_s</strong>    3     7      2       30       6       5        8.3259      7.1913    0.86373        -6.3772     21.786

xxx TABLE:mt_f_of_s xxxxxxxxxxxxxxxxxx
              <strong>c1</strong>            <strong>c2</strong>           <strong>c3</strong>           <strong>c4</strong>           <strong>c5</strong>    
          <strong>__________</strong>    <strong>__________</strong>    <strong>_________</strong>    <strong>_________</strong>    <strong>_________</strong>

    <strong>r1</strong>      0.028917      0.046484     0.022848    0.0036146     0.000119
    <strong>r2</strong>      0.024097      0.092967     0.085679     0.024097    0.0014875
    <strong>r3</strong>     0.0080324      0.074374      0.12852     0.064259    0.0074374
    <strong>r4</strong>     0.0013387       0.02975     0.096388     0.085679     0.018593
    <strong>r5</strong>    0.00011156     0.0059499     0.036146     0.057119     0.023242
    <strong>r6</strong>    3.7187e-06    0.00047599    0.0054218     0.015232     0.011621

xxx TABLE:mt_x_of_s xxxxxxxxxxxxxxxxxx
          <strong>c1</strong>    <strong>c2</strong>    <strong>c3</strong>    <strong>c4</strong>    <strong>c5</strong>
          <strong>__</strong>    <strong>__</strong>    <strong>__</strong>    <strong>__</strong>    <strong>__</strong>

    <strong>r1</strong>    -7    -6    -7    -6    -6
    <strong>r2</strong>    -5    -3    -5    -3    -4
    <strong>r3</strong>    -2    -1    -1     0    -1
    <strong>r4</strong>     2     2     3     4     2
    <strong>r5</strong>     6     5     5     6     5
    <strong>r6</strong>     8     9     7     9     9

xxx TABLE:mt_y_of_s xxxxxxxxxxxxxxxxxx
            <strong>c1</strong>         <strong>c2</strong>         <strong>c3</strong>        <strong>c4</strong>         <strong>c5</strong>   
          <strong>______</strong>    <strong>________</strong>    <strong>______</strong>    <strong>_______</strong>    <strong>_______</strong>

    <strong>r1</strong>    13.231      21.786    18.136      19.35     13.901
    <strong>r2</strong>     9.946      16.887    9.6914      15.71     8.6906
    <strong>r3</strong>    16.255      6.2166    13.799     5.2138     11.641
    <strong>r4</strong>    12.628      2.7525    6.5321    0.27238     13.357
    <strong>r5</strong>    5.8844      4.0352      6.05    0.14102    0.50318
    <strong>r6</strong>    3.5617    -0.72091    5.1855    -6.3772    -4.4805

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CONTAINER NAME: covvar_input_map Scalars
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                 <strong>i</strong>    <strong>idx</strong>     <strong>value</strong>  
                 <strong>_</strong>    <strong>___</strong>    <strong>________</strong>

    <strong>fl_x_mean</strong>    1     1     -0.11081
    <strong>fl_x_sd  </strong>    2     2       4.1239
    <strong>fl_y_mean</strong>    3     3       8.8423
    <strong>fl_y_sd  </strong>    4     4       6.5845

----------------------------------------
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CONTAINER NAME: covvar_output_map ND Array (Matrix etc)
xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
                                 <strong>i</strong>    <strong>idx</strong>    <strong>ndim</strong>    <strong>numel</strong>    <strong>rowN</strong>    <strong>colN</strong>      <strong>mean</strong>       <strong>std</strong>      <strong>coefvari</strong>      <strong>min</strong>        <strong>max</strong>  
                                 <strong>_</strong>    <strong>___</strong>    <strong>____</strong>    <strong>_____</strong>    <strong>____</strong>    <strong>____</strong>    <strong>________</strong>    <strong>______</strong>    <strong>________</strong>    <strong>_______</strong>    <strong>_______</strong>

    <strong>mt_cov_component_weighted</strong>    1     1      2       30       6       5      -0.73612    1.0404    -1.4134     -3.5432    0.17717
    <strong>mt_x_devi_from_mean      </strong>    2     2      2       30       6       5       0.94415    5.3051     5.6189     -6.8892     9.1108
    <strong>mt_x_y_multiply          </strong>    3     3      2       30       6       5       -31.321    36.564    -1.1674     -138.66     9.5287
    <strong>mt_y_devi_from_mean      </strong>    4     4      2       30       6       5      -0.51644    7.1913    -13.925      -15.22     12.943

xxx TABLE:mt_cov_component_weighted xxxxxxxxxxxxxxxxxx
              <strong>c1</strong>            <strong>c2</strong>           <strong>c3</strong>          <strong>c4</strong>            <strong>c5</strong>    
          <strong>___________</strong>    <strong>_________</strong>    <strong>________</strong>    <strong>_________</strong>    <strong>__________</strong>

    <strong>r1</strong>       -0.87434      -3.5432     -1.4628     -0.22368    -0.0035451
    <strong>r2</strong>       -0.13003      -2.1607    -0.35565     -0.47814    0.00087767
    <strong>r3</strong>       -0.11248      0.17365    -0.56642    -0.025838     -0.018507
    <strong>r4</strong>       0.010697     -0.38241    -0.69273      -3.0184       0.17717
    <strong>r5</strong>     -0.0020165     -0.14618    -0.51584      -3.0371      -0.99056
    <strong>r6</strong>    -0.00015927    -0.041473    -0.14098      -2.1121       -1.4106

xxx TABLE:mt_x_devi_from_mean xxxxxxxxxxxxxxxxxx
            <strong>c1</strong>          <strong>c2</strong>          <strong>c3</strong>         <strong>c4</strong>          <strong>c5</strong>   
          <strong>_______</strong>    <strong>________</strong>    <strong>________</strong>    <strong>_______</strong>    <strong>________</strong>

    <strong>r1</strong>    -6.8892     -5.8892     -6.8892    -5.8892     -5.8892
    <strong>r2</strong>    -4.8892     -2.8892     -4.8892    -2.8892     -3.8892
    <strong>r3</strong>    -1.8892    -0.88919    -0.88919    0.11081    -0.88919
    <strong>r4</strong>     2.1108      2.1108      3.1108     4.1108      2.1108
    <strong>r5</strong>     6.1108      5.1108      5.1108     6.1108      5.1108
    <strong>r6</strong>     8.1108      9.1108      7.1108     9.1108      9.1108

xxx TABLE:mt_x_y_multiply xxxxxxxxxxxxxxxxxx
            <strong>c1</strong>         <strong>c2</strong>         <strong>c3</strong>          <strong>c4</strong>         <strong>c5</strong>   
          <strong>_______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>    <strong>_______</strong>

    <strong>r1</strong>    -30.237    -76.225    -64.023     -61.882    -29.792
    <strong>r2</strong>     -5.396    -23.242     -4.151     -19.842    0.59004
    <strong>r3</strong>    -14.003     2.3348    -4.4073    -0.40209    -2.4884
    <strong>r4</strong>     7.9905    -12.854    -7.1868      -35.23     9.5287
    <strong>r5</strong>    -18.075    -24.568    -14.271     -53.172     -42.62
    <strong>r6</strong>     -42.83    -87.129    -26.003     -138.66    -121.38

xxx TABLE:mt_y_devi_from_mean xxxxxxxxxxxxxxxxxx
            <strong>c1</strong>         <strong>c2</strong>         <strong>c3</strong>         <strong>c4</strong>          <strong>c5</strong>   
          <strong>_______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>

    <strong>r1</strong>      4.389     12.943     9.2933     10.508      5.0587
    <strong>r2</strong>     1.1037     8.0444    0.84902     6.8677    -0.15171
    <strong>r3</strong>     7.4123    -2.6258     4.9566    -3.6286      2.7985
    <strong>r4</strong>     3.7855    -6.0898    -2.3103      -8.57      4.5142
    <strong>r5</strong>    -2.9579    -4.8071    -2.7924    -8.7013     -8.3392
    <strong>r6</strong>    -5.2806    -9.5633    -3.6568     -15.22     -13.323

fl_cov
  -22.0835

fl_cor
   -0.8133</div></div></div></div></div><h2  class = 'S2'><span>Test FF_DISC_RAND_VAR_MASS2COVCOR Four States-Points</span></h2><div  class = 'S1'><span>Over some (a,z) states that is 2 by 2, c matrix, and y matrix, find correlation. Positively related.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Set Parameters</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_c_of_s = [1,2;3,1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_y_of_s = [2,10;5,1.1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(123);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = rand(size(mt_c_of_s));</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, </span><span style="color: rgb(160, 32, 240);">'all'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_display_drvm2covcor = false;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Call Function</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(</span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    mt_c_of_s, mt_y_of_s, mt_f_of_s, bl_display_drvm2covcor);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>display([</span><span style="color: rgb(160, 32, 240);">'cov=' </span><span>num2str(fl_cov_xy) </span><span style="color: rgb(160, 32, 240);">',cor='</span><span>, num2str(fl_cor_xy)]);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="1429F354" data-testid="output_1" data-width="428" data-height="18" data-hashorizontaloverflow="false" style="width: 458px; max-height: 261px;"><div class="textElement">cov=1.4446,cor=0.65723</div></div></div></div></div><div  class = 'S8'><span>Same as before, but now inputs are single column:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Call Function</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(</span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    mt_c_of_s(:), mt_y_of_s(:), mt_f_of_s(:), bl_display_drvm2covcor);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>display([</span><span style="color: rgb(160, 32, 240);">'cov=' </span><span>num2str(fl_cov_xy) </span><span style="color: rgb(160, 32, 240);">',cor='</span><span>, num2str(fl_cor_xy)]);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="11F7CEFA" data-testid="output_2" data-width="428" data-height="18" data-hashorizontaloverflow="false" style="width: 458px; max-height: 261px;"><div class="textElement">cov=1.4446,cor=0.65723</div></div></div></div></div><h2  class = 'S2'><span>Test FF_DISC_RAND_VAR_MASS2COVCOR Two Random Vectors</span></h2><div  class = 'S1'><a href = "https://fanwangecon.github.io/Stat4Econ/probability_discrete/htmlpdfr/poisson.html"><span>G</span></a><span>enerate two random vectors, with random or even mass, correlation should be zero:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Set Parameters</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(4567);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_c_of_s = rand([20,1])*100;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_y_of_s = rand([20,1])*100;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = rand(size(mt_c_of_s));</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, </span><span style="color: rgb(160, 32, 240);">'all'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_display_drvm2covcor = false;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Call Function</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(</span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    mt_c_of_s, mt_y_of_s, mt_f_of_s, bl_display_drvm2covcor);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>display([</span><span style="color: rgb(160, 32, 240);">'cov=' </span><span>num2str(fl_cov_xy) </span><span style="color: rgb(160, 32, 240);">',cor='</span><span>, num2str(fl_cor_xy)]);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="D107C1E1" data-testid="output_3" data-width="428" data-height="18" data-hashorizontaloverflow="false" style="width: 458px; max-height: 261px;"><div class="textElement">cov=-57.6533,cor=-0.062023</div></div></div></div></div><h2  class = 'S2'><span>Test FF_DISC_RAND_VAR_MASS2COVCOR Provide Mean and SD</span></h2><div  class = 'S1'><span>Same as above, but now provide means and sd for x andy directly. The results are the same as when mean and sd are calculated inside the function.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Set Parameters</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(4567);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_c_of_s = rand([20,1])*100;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_y_of_s = rand([20,1])*100;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = rand(size(mt_c_of_s));</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, </span><span style="color: rgb(160, 32, 240);">'all'</span><span>);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>fl_c_mean = sum(mt_f_of_s.*mt_c_of_s);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>fl_c_sd = sqrt(sum(mt_f_of_s.*(mt_c_of_s-fl_c_mean).^2));</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>fl_y_mean = sum(mt_f_of_s.*mt_y_of_s);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>fl_y_sd = sqrt(sum(mt_f_of_s.*(mt_y_of_s-fl_y_mean).^2));</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_display_drvm2covcor = false;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% Call Function</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(</span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    mt_c_of_s, mt_y_of_s, mt_f_of_s, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    fl_c_mean, fl_c_sd, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    fl_y_mean, fl_y_sd, bl_display_drvm2covcor);</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>display([</span><span style="color: rgb(160, 32, 240);">'cov=' </span><span>num2str(fl_cov_xy) </span><span style="color: rgb(160, 32, 240);">',cor='</span><span>, num2str(fl_cor_xy)]);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="B96D76EE" data-testid="output_4" data-width="428" data-height="18" data-hashorizontaloverflow="false" style="width: 458px; max-height: 261px;"><div class="textElement">cov=-57.6533,cor=-0.062023</div></div></div></div></div></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% FF_DISC_RAND_VAR_MASS2COVCOR Examples
% *back to* <https://fanwangecon.github.io *Fan*>*'s* <https://fanwangecon.github.io/Math4Econ/ 
% *Intro Math for Econ*>*,*  <https://fanwangecon.github.io/M4Econ/ *Matlab Examples*>*, 
% or* <https://fanwangecon.github.io/CodeDynaAsset/ *Dynamic Asset*> *Repositories*
% 
% This is the example vignette for function: <https://github.com/FanWangEcon/MEconTools/blob/master/MEconTools/stats/ff_disc_rand_var_mass2covcor.m 
% *ff_disc_rand_var_mass2covcor*> from the <https://fanwangecon.github.io/MEconTools/ 
% *MEconTools Package*>*.* This function calculates covariance and correlation 
% based for two discrete random variables. 
%% Test FF_DISC_RAND_VAR_MASS2COVCOR Defaults
% Call the function with defaults.

ff_disc_rand_var_mass2covcor();
%% Test FF_DISC_RAND_VAR_MASS2COVCOR Four States-Points
% Over some (a,z) states that is 2 by 2, c matrix, and y matrix, find correlation. 
% Positively related.

% Set Parameters
mt_c_of_s = [1,2;3,1];
mt_y_of_s = [2,10;5,1.1];
rng(123);
mt_f_of_s = rand(size(mt_c_of_s));
mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, 'all');
bl_display_drvm2covcor = false;
% Call Function
[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(...
    mt_c_of_s, mt_y_of_s, mt_f_of_s, bl_display_drvm2covcor);
display(['cov=' num2str(fl_cov_xy) ',cor=', num2str(fl_cor_xy)]);
%% 
% Same as before, but now inputs are single column:

% Call Function
[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(...
    mt_c_of_s(:), mt_y_of_s(:), mt_f_of_s(:), bl_display_drvm2covcor);
display(['cov=' num2str(fl_cov_xy) ',cor=', num2str(fl_cor_xy)]);
%% Test FF_DISC_RAND_VAR_MASS2COVCOR Two Random Vectors
% <https://fanwangecon.github.io/Stat4Econ/probability_discrete/htmlpdfr/poisson.html 
% G>enerate two random vectors, with random or even mass, correlation should be 
% zero:

% Set Parameters
rng(4567);
mt_c_of_s = rand([20,1])*100;
mt_y_of_s = rand([20,1])*100;
mt_f_of_s = rand(size(mt_c_of_s));
mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, 'all');
bl_display_drvm2covcor = false;
% Call Function
[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(...
    mt_c_of_s, mt_y_of_s, mt_f_of_s, bl_display_drvm2covcor);
display(['cov=' num2str(fl_cov_xy) ',cor=', num2str(fl_cor_xy)]);
%% Test FF_DISC_RAND_VAR_MASS2COVCOR Provide Mean and SD
% Same as above, but now provide means and sd for x andy directly. The results 
% are the same as when mean and sd are calculated inside the function.

% Set Parameters
rng(4567);
mt_c_of_s = rand([20,1])*100;
mt_y_of_s = rand([20,1])*100;
mt_f_of_s = rand(size(mt_c_of_s));
mt_f_of_s = mt_f_of_s/sum(mt_f_of_s, 'all');
fl_c_mean = sum(mt_f_of_s.*mt_c_of_s);
fl_c_sd = sqrt(sum(mt_f_of_s.*(mt_c_of_s-fl_c_mean).^2));
fl_y_mean = sum(mt_f_of_s.*mt_y_of_s);
fl_y_sd = sqrt(sum(mt_f_of_s.*(mt_y_of_s-fl_y_mean).^2));
bl_display_drvm2covcor = false;
% Call Function
[fl_cov_xy, fl_cor_xy] = ff_disc_rand_var_mass2covcor(...
    mt_c_of_s, mt_y_of_s, mt_f_of_s, ...
    fl_c_mean, fl_c_sd, ...
    fl_y_mean, fl_y_sd, bl_display_drvm2covcor);
display(['cov=' num2str(fl_cov_xy) ',cor=', num2str(fl_cor_xy)]);
##### SOURCE END #####
--></body></html>