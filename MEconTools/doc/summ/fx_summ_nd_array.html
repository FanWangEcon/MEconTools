<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,IE=9,chrome=1"><meta name="generator" content="MATLAB R2019b"><title>FF_SUMM_ND_ARRAY Examples</title><style type="text/css">.rtcContent { padding: 30px; } .S0 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 28.8px; min-height: 0px; white-space: pre-wrap; color: rgb(213, 80, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 24px; font-weight: 400; text-align: left;  }
.S1 { margin: 2px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S2 { margin: 3px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }
.CodeBlock { background-color: #F7F7F7; margin: 10px 0 10px 0;}
.S3 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 4px 4px 0px 0px; padding: 6px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S4 { color: rgb(64, 64, 64); padding: 10px 0px 6px 17px; background: rgb(255, 255, 255) none repeat scroll 0% 0% / auto padding-box border-box; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px; overflow-x: hidden; line-height: 16.996px;  }
.embeddedOutputsErrorElement {min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsErrorElement.inlineElement {}
.embeddedOutputsErrorElement.rightPaneElement {}
.embeddedOutputsWarningElement{min-height: 18px; max-height: 250px; overflow: auto;}
.embeddedOutputsWarningElement.inlineElement {}
.embeddedOutputsWarningElement.rightPaneElement {}
.diagnosticMessage-wrapper {font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 12px;}
.diagnosticMessage-wrapper.diagnosticMessage-warningType {color: rgb(255,100,0);}
.diagnosticMessage-wrapper.diagnosticMessage-warningType a {color: rgb(255,100,0); text-decoration: underline;}
.diagnosticMessage-wrapper.diagnosticMessage-errorType {color: rgb(230,0,0);}
.diagnosticMessage-wrapper.diagnosticMessage-errorType a {color: rgb(230,0,0); text-decoration: underline;}
.diagnosticMessage-wrapper .diagnosticMessage-messagePart,.diagnosticMessage-wrapper .diagnosticMessage-causePart {white-space: pre-wrap;}
.diagnosticMessage-wrapper .diagnosticMessage-stackPart {white-space: pre;}
.embeddedOutputsTextElement,.embeddedOutputsVariableStringElement {white-space: pre; word-wrap: initial; min-height: 18px; max-height: 250px; overflow: auto;}
.textElement,.rtcDataTipElement .textElement {padding-top: 3px;}
.embeddedOutputsTextElement.inlineElement,.embeddedOutputsVariableStringElement.inlineElement {}
.inlineElement .textElement {}
.embeddedOutputsTextElement.rightPaneElement,.embeddedOutputsVariableStringElement.rightPaneElement {min-height: 16px;}
.rightPaneElement .textElement {padding-top: 2px; padding-left: 9px;}
.S5 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 1px solid rgb(233, 233, 233); border-bottom: 0px none rgb(0, 0, 0); border-radius: 4px 4px 0px 0px; padding: 6px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S6 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 0px none rgb(0, 0, 0); border-radius: 0px; padding: 0px 45px 0px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S7 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px; padding: 0px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S8 { margin: 10px 10px 9px 4px; padding: 0px; line-height: 21px; min-height: 0px; white-space: pre-wrap; color: rgb(0, 0, 0); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 14px; font-weight: 400; text-align: left;  }
.S9 { border-left: 1px solid rgb(233, 233, 233); border-right: 1px solid rgb(233, 233, 233); border-top: 0px none rgb(0, 0, 0); border-bottom: 1px solid rgb(233, 233, 233); border-radius: 0px 0px 4px 4px; padding: 0px 45px 4px 13px; line-height: 16.996px; min-height: 18px; white-space: nowrap; color: rgb(0, 0, 0); font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size: 14px;  }
.S10 { margin: 20px 10px 5px 4px; padding: 0px; line-height: 20px; min-height: 0px; white-space: pre-wrap; color: rgb(60, 60, 60); font-family: Helvetica, Arial, sans-serif; font-style: normal; font-size: 20px; font-weight: 700; text-align: left;  }</style></head><body><div class = rtcContent><h1  class = 'S0'><span>FF_SUMM_ND_ARRAY Examples</span></h1><div  class = 'S1'><span style=' font-weight: bold;'>back to </span><a href = "https://fanwangecon.github.io"><span style=' font-weight: bold;'>Fan</span></a><span style=' font-weight: bold;'>'s </span><a href = "https://fanwangecon.github.io/Math4Econ/"><span style=' font-weight: bold;'>Intro Math for Econ</span></a><span style=' font-weight: bold;'>,  </span><a href = "https://fanwangecon.github.io/M4Econ/"><span style=' font-weight: bold;'>Matlab Examples</span></a><span style=' font-weight: bold;'>, or </span><a href = "https://fanwangecon.github.io/CodeDynaAsset/"><span style=' font-weight: bold;'>Dynamic Asset</span></a><span style=' font-weight: bold;'> Repositories</span></div><div  class = 'S1'><span>This is the example vignette for function: </span><a href = "https://github.com/FanWangEcon/MEconTools/blob/master/MEconTools/summ/ff_summ_nd_array.m"><span style=' font-weight: bold;'>ff_summ_nd_array</span></a><span> from the </span><a href = "https://fanwangecon.github.io/MEconTools/"><span style=' font-weight: bold;'>MEconTools Package</span></a><span style=' font-weight: bold;'>.</span><span> This function summarizes policy and value functions over states.</span></div><h2  class = 'S2'><span>Test FF_SUMM_ND_ARRAY Defaults</span></h2><div  class = 'S1'><span>Call the function with defaults.</span></div><div class="CodeBlock"><div class="inlineWrapper outputs"><div  class = 'S3'><span style="white-space: pre;"><span>ff_summ_nd_array();</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="7358BDCD" data-testid="output_0" data-width="428" data-height="174" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Summ over (a,z), condi age as cols, kids/marriage as rows  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>marry</strong>    <strong>kids</strong>    <strong>mean_age_18</strong>    <strong>mean_age_19</strong>    <strong>mean_age_20</strong>    <strong>mean_age_21</strong>
    <strong>_____</strong>    <strong>_____</strong>    <strong>____</strong>    <strong>___________</strong>    <strong>___________</strong>    <strong>___________</strong>    <strong>___________</strong>

      1        0       1        0.53448        0.44448         0.5053        0.52914  
      2        1       1         0.4564        0.44512        0.44998        0.51775  
      3        0       2        0.52415        0.49903        0.48403        0.44429  
      4        1       2        0.49235        0.43684        0.44717        0.45226  
      5        0       3         0.4668        0.52676        0.49386        0.51855  
      6        1       3        0.47097        0.60345        0.58319        0.46238  
      7        0       4        0.55484        0.53601        0.53069        0.49323  
      8        1       4         0.5283        0.44091        0.53317        0.51062  </div></div></div></div></div><h2  class = 'S2'><span>Test FF_SUMM_ND_ARRAY with Random 2 Dimensional Matrix </span></h2><div  class = 'S1'><span>Summarize over 6 dimensional array, iteratively change how many dimensions to group over.</span></div><div  class = 'S1'><span>First, generate matrix:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>st_title = </span><span style="color: rgb(160, 32, 240);">"Random 2D dimensional Array Testing Summarizing"</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(123)</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mn_polval = rand(5,4);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_print_table = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ar_st_stats = [</span><span style="color: rgb(160, 32, 240);">"mean"</span><span>];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc = {};</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{1} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'a'</span><span>, linspace(0,1,size(mn_polval,1))});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{2} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'z'</span><span>, linspace(-1,1,size(mn_polval,2))});</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>disp(mn_polval);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement" uid="3E3A9E8A" data-testid="output_1" data-width="428" data-height="74" data-hashorizontaloverflow="false" style="width: 458px; max-height: 261px;"><div class="textElement">    0.6965    0.4231    0.3432    0.7380
    0.2861    0.9808    0.7290    0.1825
    0.2269    0.6848    0.4386    0.1755
    0.5513    0.4809    0.0597    0.5316
    0.7195    0.3921    0.3980    0.5318</div></div></div></div></div><div  class = 'S8'><span>Second, show the entire matrix (no labels):</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 0; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="65EBAE96" data-testid="output_2" data-width="428" data-height="117" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random 2D dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>vardim2</strong>    <strong>mean_vardim1_1</strong>    <strong>mean_vardim1_2</strong>    <strong>mean_vardim1_3</strong>    <strong>mean_vardim1_4</strong>    <strong>mean_vardim1_5</strong>
    <strong>_____</strong>    <strong>_______</strong>    <strong>______________</strong>    <strong>______________</strong>    <strong>______________</strong>    <strong>______________</strong>    <strong>______________</strong>

      1         1          0.69647           0.28614           0.22685            0.55131          0.71947    
      2         2          0.42311           0.98076           0.68483            0.48093          0.39212    
      3         3          0.34318           0.72905           0.43857           0.059678          0.39804    
      4         4            0.738           0.18249           0.17545            0.53155          0.53183    </div></div></div></div></div><div  class = 'S8'><span>Third, rotate row and column, and now with labels:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 0; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ar_permute = [2,1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>    cl_mp_datasetdesc, ar_permute);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="4D73E5BC" data-testid="output_3" data-width="428" data-height="131" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random 2D dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>     <strong>a</strong>      <strong>mean_z__1</strong>    <strong>mean_z__0_33333</strong>    <strong>mean_z_0_33333</strong>    <strong>mean_z_1</strong>
    <strong>_____</strong>    <strong>____</strong>    <strong>_________</strong>    <strong>_______________</strong>    <strong>______________</strong>    <strong>________</strong>

      1         0     0.69647         0.42311            0.34318         0.738 
      2      0.25     0.28614         0.98076            0.72905       0.18249 
      3       0.5     0.22685         0.68483            0.43857       0.17545 
      4      0.75     0.55131         0.48093           0.059678       0.53155 
      5         1     0.71947         0.39212            0.39804       0.53183 </div></div></div></div></div><div  class = 'S8'><span>Fourth, dimension one as columns, average over dim 2:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 1; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>    cl_mp_datasetdesc);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="D29A8C15" data-testid="output_4" data-width="428" data-height="74" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random 2D dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>x</strong>    <strong>mean_z__1</strong>    <strong>mean_z__0_33333</strong>    <strong>mean_z_0_33333</strong>    <strong>mean_z_1</strong>
    <strong>_____</strong>    <strong>_</strong>    <strong>_________</strong>    <strong>_______________</strong>    <strong>______________</strong>    <strong>________</strong>

      1      1     0.49605         0.59235            0.3937        0.43186 </div></div></div></div></div><div  class = 'S8'><span>Fifth, dimension one as rows, average over dim 2:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 1; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 0; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>    cl_mp_datasetdesc);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="38380800" data-testid="output_5" data-width="428" data-height="117" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random 2D dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>       <strong>z</strong>         <strong>sum</strong>       <strong>mean</strong>        <strong>std</strong>      <strong>coefvari</strong>      <strong>min</strong>         <strong>max</strong>  
    <strong>_____</strong>    <strong>________</strong>    <strong>______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>    <strong>________</strong>    <strong>_______</strong>

      1            -1    2.4802    0.49605    0.22895     2.1666      0.22685    0.71947
      2      -0.33333    2.9617    0.59235    0.24524     2.4154      0.39212    0.98076
      3       0.33333    1.9685     0.3937    0.23907     1.6468     0.059678    0.72905
      4             1    2.1593    0.43186    0.24575     1.7573      0.17545      0.738</div></div></div></div></div><div  class = 'S8'><span>Sixth, dimension two as rows, average over dim 1:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>ar_permute = [2,1];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>it_aggd = 1; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 0; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>    cl_mp_datasetdesc, ar_permute);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="ABD1F026" data-testid="output_6" data-width="428" data-height="131" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random 2D dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>     <strong>a</strong>       <strong>sum</strong>       <strong>mean</strong>        <strong>std</strong>      <strong>coefvari</strong>      <strong>min</strong>         <strong>max</strong>  
    <strong>_____</strong>    <strong>____</strong>    <strong>______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>    <strong>________</strong>    <strong>_______</strong>

      1         0    2.2007    0.55019    0.19636     2.8019      0.34318      0.738
      2      0.25    2.1784    0.54461    0.37514     1.4518      0.18249    0.98076
      3       0.5    1.5257    0.38143    0.23212     1.6432      0.17545    0.68483
      4      0.75    1.6235    0.40587    0.23269     1.7443     0.059678    0.55131
      5         1    2.0415    0.51036    0.15361     3.3226      0.39212    0.71947</div></div></div></div></div><h2  class = 'S2'><span>Test FF_SUMM_ND_ARRAY with Random 6 Dimensional Matrix </span></h2><div  class = 'S1'><span>Summarize over 6 dimensional array, iteratively change how many dimensions to group over.</span></div><div  class = 'S1'><span>First, generate matrix:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>st_title = </span><span style="color: rgb(160, 32, 240);">"Random ND dimensional Array Testing Summarizing"</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(123)</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mn_polval = rand(8,7,6,5,4,3);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_print_table = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S9'><span style="white-space: pre;"><span>ar_st_stats = [</span><span style="color: rgb(160, 32, 240);">"mean"</span><span>];</span></span></div></div></div><div  class = 'S8'><span>Second, summarize over the first four dimensions,  row group others:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 4; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 0; </span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="EFCB8ED4" data-testid="output_7" data-width="428" data-height="231" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random ND dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>vardim5</strong>    <strong>vardim6</strong>     <strong>sum</strong>       <strong>mean</strong>        <strong>std</strong>      <strong>coefvari</strong>       <strong>min</strong>          <strong>max</strong>  
    <strong>_____</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>______</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>    <strong>__________</strong>    <strong>_______</strong>

      1         1          1       836.78    0.49808    0.29255     1.7026     8.1888e-05    0.99964
      2         2          1       842.15    0.50128    0.28968     1.7305     6.7838e-05    0.99936
      3         3          1       831.45    0.49491    0.28851     1.7154     0.00091373    0.99989
      4         4          1        843.9    0.50232    0.28154     1.7842     0.00012471    0.99731
      5         1          2       838.99     0.4994     0.2911     1.7156     0.00029749    0.99938
      6         2          2       830.81    0.49453    0.28634     1.7271     0.00027113     0.9992
      7         3          2       832.59    0.49559    0.28682     1.7279     0.00035994    0.99936
      8         4          2       820.42    0.48835    0.29032     1.6821     0.00096259    0.99896
      9         1          3       870.56    0.51819    0.29111     1.7801      0.0010616    0.99951
     10         2          3       854.68    0.50874    0.28458     1.7877       0.001884    0.99965
     11         3          3       838.29    0.49898     0.2891      1.726      0.0019192    0.99945
     12         4          3       842.83    0.50169     0.2877     1.7438     0.00016871    0.99963</div></div></div></div></div><div  class = 'S8'><span>Third, summarize over the first four dimensions, column group 5th, and row group others:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 4; </span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, [</span><span style="color: rgb(160, 32, 240);">"sum"</span><span>], it_aggd, bl_row);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="CE68F5BC" data-testid="output_8" data-width="428" data-height="103" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random ND dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>vardim6</strong>    <strong>sum_vardim5_1</strong>    <strong>sum_vardim5_2</strong>    <strong>sum_vardim5_3</strong>    <strong>sum_vardim5_4</strong>
    <strong>_____</strong>    <strong>_______</strong>    <strong>_____________</strong>    <strong>_____________</strong>    <strong>_____________</strong>    <strong>_____________</strong>

      1         1          836.78           842.15           831.45            843.9    
      2         2          838.99           830.81           832.59           820.42    
      3         3          870.56           854.68           838.29           842.83    </div></div></div></div></div><div  class = 'S8'><span>Fourth, summarize over the first five dimensions, column group 6th, no row groups:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 5;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, [</span><span style="color: rgb(160, 32, 240);">"mean"</span><span>, </span><span style="color: rgb(160, 32, 240);">"std"</span><span>], it_aggd, bl_row);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="ABEFD2DA" data-testid="output_9" data-width="428" data-height="74" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random ND dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>x</strong>    <strong>mean_vardim6_1</strong>    <strong>mean_vardim6_2</strong>    <strong>mean_vardim6_3</strong>    <strong>std_vardim6_1</strong>    <strong>std_vardim6_2</strong>    <strong>std_vardim6_3</strong>
    <strong>_____</strong>    <strong>_</strong>    <strong>______________</strong>    <strong>______________</strong>    <strong>______________</strong>    <strong>_____________</strong>    <strong>_____________</strong>    <strong>_____________</strong>

      1      1       0.49915           0.49447            0.5069           0.28805          0.28862          0.28816   </div></div></div></div></div><div  class = 'S8'><span>Fifth, summarize over all six dimensions, summary statistics over the entire dataframe:</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>it_aggd = 6;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 0; </span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="E2A77872" data-testid="output_10" data-width="428" data-height="74" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  Random ND dimensional Array Testing Summarizing  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>x</strong>     <strong>sum</strong>      <strong>mean</strong>        <strong>std</strong>      <strong>coefvari</strong>       <strong>min</strong>          <strong>max</strong>  
    <strong>_____</strong>    <strong>_</strong>    <strong>_____</strong>    <strong>_______</strong>    <strong>_______</strong>    <strong>________</strong>    <strong>__________</strong>    <strong>_______</strong>

      1      1    10083    0.50017    0.28831     1.7349     6.7838e-05    0.99989</div></div></div></div></div><h2  class = 'S2'><span>Test FF_SUMM_ND_ARRAY with Random 7 Dimensional Matrix with All Parameters</span></h2><div  class = 'S1'><span>Given a random seven dimensional matrix, average over the 2nd, 4th and 5th dimensionals. Show as row groups the 3, 6 and 7th dimensions, and row groups the 1st dimension. Show Coefficient of Variation only.</span></div><div class="CodeBlock"><div class="inlineWrapper"><div  class = 'S5'><span style="white-space: pre;"><span>st_title = </span><span style="color: rgb(160, 32, 240);">"avg VALUE 2+4+5th dims. groups 3+6+7th dims, and row groups the 1st dim."</span><span>;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>rng(123)</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>mn_polval = rand(3,10,2,10,10,2,3);</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ar_permute = [2,4,5,1,3,6,7];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_print_table = true;</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>ar_st_stats = [</span><span style="color: rgb(160, 32, 240);">"coefvari"</span><span>];</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>it_aggd = 3; </span><span style="color: rgb(60, 118, 61);">% mean over 3 dims</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>bl_row = 1; </span><span style="color: rgb(60, 118, 61);">% one var for row group</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc = {};</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{1} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'age'</span><span>, [18, 19, 20]});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{2} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'savings'</span><span>, linspace(0,1,10)});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{3} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'borrsave'</span><span>, [-1,+1]});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{4} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'shocka'</span><span>, linspace(-5,5,10)});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{5} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'shockb'</span><span>, linspace(-5,5,10)});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{6} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'marry'</span><span>, [0,1]});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>cl_mp_datasetdesc{7} = containers.Map({</span><span style="color: rgb(160, 32, 240);">'name'</span><span>, </span><span style="color: rgb(160, 32, 240);">'labval'</span><span>}, </span><span style="color: rgb(0, 0, 255);">...</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span>    {</span><span style="color: rgb(160, 32, 240);">'region'</span><span>, [1,2,3]});</span></span></div></div><div class="inlineWrapper"><div  class = 'S6'><span style="white-space: pre;"><span style="color: rgb(60, 118, 61);">% call function</span></span></div></div><div class="inlineWrapper outputs"><div  class = 'S7'><span style="white-space: pre;"><span>ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, cl_mp_datasetdesc, ar_permute);</span></span></div><div  class = 'S4'><div class="inlineElement eoOutputWrapper embeddedOutputsTextElement scrollableOutput" uid="652A4E9F" data-testid="output_11" data-width="428" data-height="231" data-hashorizontaloverflow="true" style="width: 458px; max-height: 261px;"><div class="textElement">xxx  avg VALUE 2+4+5th dims. groups 3+6+7th dims, and row groups the 1st dim.  xxxxxxxxxxxxxxxxxxxxxxxxxxx
    <strong>group</strong>    <strong>borrsave</strong>    <strong>marry</strong>    <strong>region</strong>    <strong>cv_age_18</strong>    <strong>cv_age_19</strong>    <strong>cv_age_20</strong>
    <strong>_____</strong>    <strong>________</strong>    <strong>_____</strong>    <strong>______</strong>    <strong>_________</strong>    <strong>_________</strong>    <strong>_________</strong>

      1         -1         0        1        1.7607       1.7534       1.7065  
      2          1         0        1        1.6566       1.7501       1.7042  
      3         -1         1        1        1.6608       1.7658       1.7291  
      4          1         1        1         1.756       1.7479       1.7606  
      5         -1         0        2        1.7314       1.7506        1.786  
      6          1         0        2        1.7347        1.728        1.738  
      7         -1         1        2        1.7811        1.755       1.7568  
      8          1         1        2        1.7445       1.7398       1.7746  
      9         -1         0        3        1.7025       1.7286         1.69  
     10          1         0        3          1.74       1.7549       1.7356  
     11         -1         1        3        1.7147       1.7287       1.7341  
     12          1         1        3        1.7919       1.7313       1.7452  </div></div></div></div></div><h2  class = 'S10'></h2></div>
<br>
<!-- 
##### SOURCE BEGIN #####
%% FF_SUMM_ND_ARRAY Examples
% *back to* <https://fanwangecon.github.io *Fan*>*'s* <https://fanwangecon.github.io/Math4Econ/ 
% *Intro Math for Econ*>*,*  <https://fanwangecon.github.io/M4Econ/ *Matlab Examples*>*, 
% or* <https://fanwangecon.github.io/CodeDynaAsset/ *Dynamic Asset*> *Repositories*
% 
% This is the example vignette for function: <https://github.com/FanWangEcon/MEconTools/blob/master/MEconTools/summ/ff_summ_nd_array.m 
% *ff_summ_nd_array*> from the <https://fanwangecon.github.io/MEconTools/ *MEconTools 
% Package*>*.* This function summarizes policy and value functions over states.
%% Test FF_SUMM_ND_ARRAY Defaults
% Call the function with defaults.

ff_summ_nd_array();
%% Test FF_SUMM_ND_ARRAY with Random 2 Dimensional Matrix 
% Summarize over 6 dimensional array, iteratively change how many dimensions 
% to group over.
% 
% First, generate matrix:

st_title = "Random 2D dimensional Array Testing Summarizing";
rng(123)
mn_polval = rand(5,4);
bl_print_table = true;
ar_st_stats = ["mean"];
cl_mp_datasetdesc = {};
cl_mp_datasetdesc{1} = containers.Map({'name', 'labval'}, ...
    {'a', linspace(0,1,size(mn_polval,1))});
cl_mp_datasetdesc{2} = containers.Map({'name', 'labval'}, ...
    {'z', linspace(-1,1,size(mn_polval,2))});
disp(mn_polval);
%% 
% Second, show the entire matrix (no labels):

it_aggd = 0; 
bl_row = 1; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);
%% 
% Third, rotate row and column, and now with labels:

it_aggd = 0; 
bl_row = 1; 
ar_permute = [2,1];
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, ...
    cl_mp_datasetdesc, ar_permute);
%% 
% Fourth, dimension one as columns, average over dim 2:

it_aggd = 1; 
bl_row = 1; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, ...
    cl_mp_datasetdesc);
%% 
% Fifth, dimension one as rows, average over dim 2:

it_aggd = 1; 
bl_row = 0; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, ...
    cl_mp_datasetdesc);
%% 
% Sixth, dimension two as rows, average over dim 1:

ar_permute = [2,1];
it_aggd = 1; 
bl_row = 0; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, ...
    cl_mp_datasetdesc, ar_permute);
%% Test FF_SUMM_ND_ARRAY with Random 6 Dimensional Matrix 
% Summarize over 6 dimensional array, iteratively change how many dimensions 
% to group over.
% 
% First, generate matrix:

st_title = "Random ND dimensional Array Testing Summarizing";
rng(123)
mn_polval = rand(8,7,6,5,4,3);
bl_print_table = true;
ar_st_stats = ["mean"];
%% 
% Second, summarize over the first four dimensions,  row group others:

it_aggd = 4; 
bl_row = 0; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);
%% 
% Third, summarize over the first four dimensions, column group 5th, and row 
% group others:

it_aggd = 4; 
bl_row = 1; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ["sum"], it_aggd, bl_row);
%% 
% Fourth, summarize over the first five dimensions, column group 6th, no row 
% groups:

it_aggd = 5;
bl_row = 1; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ["mean", "std"], it_aggd, bl_row);
%% 
% Fifth, summarize over all six dimensions, summary statistics over the entire 
% dataframe:

it_aggd = 6;
bl_row = 0; 
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row);
%% Test FF_SUMM_ND_ARRAY with Random 7 Dimensional Matrix with All Parameters
% Given a random seven dimensional matrix, average over the 2nd, 4th and 5th 
% dimensionals. Show as row groups the 3, 6 and 7th dimensions, and row groups 
% the 1st dimension. Show Coefficient of Variation only.

st_title = "avg VALUE 2+4+5th dims. groups 3+6+7th dims, and row groups the 1st dim.";
rng(123)
mn_polval = rand(3,10,2,10,10,2,3);
ar_permute = [2,4,5,1,3,6,7];
bl_print_table = true;
ar_st_stats = ["coefvari"];
it_aggd = 3; % mean over 3 dims
bl_row = 1; % one var for row group
cl_mp_datasetdesc = {};
cl_mp_datasetdesc{1} = containers.Map({'name', 'labval'}, ...
    {'age', [18, 19, 20]});
cl_mp_datasetdesc{2} = containers.Map({'name', 'labval'}, ...
    {'savings', linspace(0,1,10)});
cl_mp_datasetdesc{3} = containers.Map({'name', 'labval'}, ...
    {'borrsave', [-1,+1]});
cl_mp_datasetdesc{4} = containers.Map({'name', 'labval'}, ...
    {'shocka', linspace(-5,5,10)});
cl_mp_datasetdesc{5} = containers.Map({'name', 'labval'}, ...
    {'shockb', linspace(-5,5,10)});
cl_mp_datasetdesc{6} = containers.Map({'name', 'labval'}, ...
    {'marry', [0,1]});
cl_mp_datasetdesc{7} = containers.Map({'name', 'labval'}, ...
    {'region', [1,2,3]});
% call function
ff_summ_nd_array(st_title, mn_polval, bl_print_table, ar_st_stats, it_aggd, bl_row, cl_mp_datasetdesc, ar_permute);
%%
##### SOURCE END #####
--></body></html>